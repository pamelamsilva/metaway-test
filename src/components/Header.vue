<script setup lang="ts">
import { removeToken } from "../services/storage.js";
import { useRouter } from "vue-router";

const router = useRouter();

function clickLogout() {
    removeToken();
    router.push("/login");
}
</script>

<template>
    <header class="header">
        <p class="title">Agenda Pessoal</p>

        <div class="links-container">
            <router-link class="link" to="/">Home</router-link>

            <router-link class="link" to="/usuarios">Usu√°rios</router-link>

            <router-link class="link" to="/pessoas">Pessoas</router-link>

            <router-link class="link" to="/contatos">Contatos</router-link>

            <div class="login-button">
                <svg
                    width="32"
                    height="32"
                    viewBox="0 0 32 32"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M16 0C12.8909 0.00590215 9.85053 0.915043 7.24935 2.61669C4.64816 4.31833 2.59838 6.73903 1.34968 9.58394C0.10098 12.4288 -0.292745 15.5752 0.216463 18.6397C0.72567 21.7042 2.11583 24.5546 4.21762 26.8437C5.71875 28.4695 7.54064 29.767 9.56848 30.6544C11.5963 31.5418 13.7862 32 16 32C18.2138 32 20.4037 31.5418 22.4315 30.6544C24.4594 29.767 26.2813 28.4695 27.7824 26.8437C29.8842 24.5546 31.2743 21.7042 31.7835 18.6397C32.2927 15.5752 31.899 12.4288 30.6503 9.58394C29.4016 6.73903 27.3518 4.31833 24.7507 2.61669C22.1495 0.915043 19.1091 0.00590215 16 0ZM16 28.8298C12.6792 28.8248 9.4899 27.5329 7.1031 25.2261C7.82775 23.4635 9.06047 21.956 10.6446 20.895C12.2288 19.8341 14.0929 19.2676 16 19.2676C17.9071 19.2676 19.7712 19.8341 21.3554 20.895C22.9395 21.956 24.1723 23.4635 24.8969 25.2261C22.5101 27.5329 19.3208 28.8248 16 28.8298ZM12.7939 12.8132C12.7939 12.1797 12.9819 11.5604 13.3342 11.0336C13.6865 10.5068 14.1872 10.0962 14.7731 9.85377C15.3589 9.61132 16.0036 9.54788 16.6255 9.67148C17.2474 9.79508 17.8187 10.1002 18.267 10.5482C18.7154 10.9962 19.0208 11.5669 19.1445 12.1883C19.2682 12.8097 19.2047 13.4538 18.962 14.0391C18.7194 14.6244 18.3084 15.1247 17.7812 15.4767C17.254 15.8287 16.6341 16.0166 16 16.0166C15.1497 16.0166 14.3342 15.6791 13.733 15.0783C13.1317 14.4776 12.7939 13.6628 12.7939 12.8132ZM27.077 22.4232C25.6448 19.9755 23.4404 18.0715 20.8091 17.0096C21.6254 16.0849 22.1572 14.9445 22.3408 13.7253C22.5244 12.5061 22.352 11.2598 21.8443 10.1361C21.3366 9.01233 20.5151 8.05882 19.4785 7.38998C18.4418 6.72114 17.234 6.36538 16 6.36538C14.766 6.36538 13.5582 6.72114 12.5215 7.38998C11.4849 8.05882 10.6634 9.01233 10.1557 10.1361C9.64798 11.2598 9.47559 12.5061 9.6592 13.7253C9.84282 14.9445 10.3746 16.0849 11.1909 17.0096C8.55963 18.0715 6.35523 19.9755 4.92296 22.4232C3.7815 20.4805 3.1784 18.2692 3.17564 16.0166C3.17564 12.6183 4.52678 9.35917 6.93181 6.95622C9.33684 4.55327 12.5988 3.20331 16 3.20331C19.4012 3.20331 22.6632 4.55327 25.0682 6.95622C27.4732 9.35917 28.8244 12.6183 28.8244 16.0166C28.8216 18.2692 28.2185 20.4805 27.077 22.4232Z"
                        fill="white"
                    />
                </svg>

                <div class="submenu">
                    <router-link class="link" to="/meu-cadastro"
                        >Perfil</router-link
                    >

                    <div @click="clickLogout" class="link">Logout</div>
                </div>
            </div>
        </div>
    </header>
</template>

<style lang="scss">
@import "../scss/app.scss";
@import "../scss/header.scss";
</style>
